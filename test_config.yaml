# test_config.yaml

remote_core:
  enabled: true
  user: "gcore1"
  host: "192.168.0.6"
  ssh_key: "~/.ssh/id_rsa"
  monitor_script_path: "/home/gcore1/open5gs/5G-Authentication-Performance/Memoryusage.py"
  remote_results_dir: "/home/gcore1/open5gs/5G-Authentication-Performance/results"       
  amf_log_path: "/home/gcore1/open5gs/install/var/log/open5gs/amf.log"    
  monitor_interval: 0.1                      

test_configuration:
  authentication_methods: ["5G_AKA", "EAP_AKA"]
  ue_counts: [10,25,40,55,70,85,100]
  iterations_per_test: 20

timing:
  service_restart_wait: 15
  gnb_startup_wait: 10
  ue_settlement_wait: 5
  test_duration_base: 50
  test_duration_per_ue: 0.5
  cleanup_wait: 5
  inter_test_wait: 30

scripts:
  change_auth:
    command: "python3 /home/gcore1/open5gs/5G-Authentication-Performance/change_authmethod.py"
    location: "core"
  start_services:
    command: "echo '1234' | sudo -S bash /home/gcore1/open5gs/5G-Authentication-Performance/startservices.sh"
    location: "core"
  add_subscribers:
    command: "echo '1234' | sudo -S python3 /home/gcore1/open5gs/5G-Authentication-Performance/add_subscribers.py"
    location: "core"
  start_gnb:
    command: "sudo bash start_gnb.sh"
    location: "local"
  launch_ues:
    command: "sudo bash ./launch_ues.sh"    # <-- trimmed trailing space
    location: "local"
  # monitor_performance:
  #   command: "echo '1234' | sudo -S python3 /home/gcore1/open5gs/5G-Authentication-Performance/Memoryusage.py"
  #   location: "core"
  cleanup_ues:
    command: "sudo pkill nr-ue"
    location: "local"
  stop_services:
    # Consider 'open5gs-' (no wildcard) OR a proper stop script/systemctl
    command: "echo '1234' | sudo -S pkill -f open5gs-"
    location: "core"

output:
  results_dir_prefix: "automated_5g_tests"
  result_file_name: "registration_overhead_summary.csv"
  log_level: "INFO"
  generate_plots: true
  consolidate_results: true

monitoring:
  enabled: true
  cpu_monitoring: true
  memory_monitoring: true
  network_monitoring: false
  disk_monitoring: false

error_handling:
  max_retries: 2
  timeout_seconds: 300
  continue_on_failure: true
  cleanup_on_error: true

advanced:
  parallel_monitoring: false
  custom_test_duration: false
  save_intermediate_logs: true
  compress_results: false
